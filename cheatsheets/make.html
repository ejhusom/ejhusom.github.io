<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>Make cheatsheet</title>

    <link href="../minimalistWhite.css" rel="stylesheet" type="text/css" title="Default">

    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name="author" content="Erik Johannes Husom">
  	<meta name="description" content="Cheatsheet for Make.">

  </head>


  <body>
    <header>
      <a href='../index.html' class='ghost'>
        <h1>Erik Johannes Husom</h1>
      </a>
      <a href='../cheatsheets.html' class='ghost'>
        <h2>Cheatsheets:</h2>
      </a>
      <h2>Make</h2>
    </header>

    <h3 class=cheatsheet>Snippets</h3>
    <section class=masonry>
      <section class=item>
        <h4>Makefile for c++</h4>
        <span class=description>A makefile for compiling a c++ project, with sorting of header, source and build files.</span>
        <pre>
EXEC 	    = executable.exe
CPP 		  = c++
CPPflags 	= -Wall -O3 -g
LIB 			=

SRC_DIR		= ./src
INC_DIR		= -I./include
BUILD_DIR	= ./build

SRC 			:= $(wildcard $(SRC_DIR)/*.cpp)
INC  			:= $(wildcard $(SRC_DIR)/*.h)
OBJ				:= $(SRC:$(SRC_DIR)/%.cpp=$(BUILD_DIR)/%.o)
#====================================================
$(EXEC): $(OBJ)
	@$(CPP) $(OBJ) $(LIB) -o $@
	@echo "Linking complete!"
	@echo $(EXEC) "ready to run!"

$(OBJ): $(BUILD_DIR)/%.o : $(SRC_DIR)/%.cpp
	@mkdir -p $(BUILD_DIR)
	@$(CPP) $(CPPFLAGS) $(INC_DIR) -c $< -o $@
	@echo "Compiled "$<" successfully!"

clean:
	@rm -rf $(OBJ) $(EXEC) $(BUILD_DIR)
@echo "Cleanup complete!"
        </pre>
      </section>
    </section class=container>

    <!-- <footer>
      Copyright 2018 by Erik Johannes Husom. All rights reserved.
    </footer> -->
  </body>

</html>
