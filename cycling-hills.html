<!DOCTYPE html>
<html>
    <head>
        <title>Cycling hills - Erik Johannes Husom</title>
        <link rel='stylesheet' href='./minimalistWhite.css'>
        <meta name="author" content="Erik Johannes Husom">
        <meta name="description" content="Overview over cycling hills.">
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <meta charset="UTF-8">

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css" />
    </head>
    
    <body>
        <header>
          <a href='index.html'>
            <h1>Erik Johannes Husom</h1>
          </a>
          <h2>::</h2>
          <h2>Cycling hills </h2>
        </header>
  
        <p>On this page you will find a collection of hills that are perfect for testing your bike climbing skills. Use the overlay menu in the top right corner of the map to select/deselect the routes you want to see. GPX-files can be download from <a href="https://github.com/ejhusom/ejhusom.github.io/tree/master/cycling-hills">this link</a>.</p>

        <div id="norwayMap" style="height: 600px; width: 100%;"></div>
        <figcaption>Cycling hills in Norway.</figcaption>

        <div id="franceMap" style="height: 600px; width: 100%;"></div>
        <figcaption>Cycling hills in Norway.</figcaption>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.4.0/gpx.min.js"></script>
        <script>
            var norwayMap = L.map('norwayMap').setView([65.50, 13.00], 4);
            L.tileLayer('http://opencache.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}', {
                attribution: '<a href="http://www.kartverket.no/">Kartverket</a>'
            }).addTo(norwayMap);

            var control = L.control.layers(null, null).addTo(norwayMap);


            function plotGPX(map, url, startLat, startLon) {
                new L.GPX(url, {
                    async: true,
                    marker_options: {
                        startIconUrl: 'images/pin-icon-start.png',
                        endIconUrl:   'images/pin-icon-end.png',
                        shadowUrl:    'images/pin-shadow.png',
                        iconSize: [16, 25],
                        shadowSize: [25, 25],
                        iconAnchor: [32, 90],
                        shadowAnchor: [32, 94],
                    },
                }).on('loaded', function(e) {
                    control.addOverlay(
                        e.target, e.target.get_name() 
                        + ": " + (e.target.get_distance()/1000).toFixed(2) + " km"
                        + ", elev. gain: " + e.target.get_elevation_gain().toFixed(0) + " m"
                        + " (" + e.target.get_elevation_min().toFixed(0) + "/"
                        + e.target.get_elevation_max().toFixed(0) + " masl)."
                    );
                    L.marker([startLat, startLon]).addTo(map)
                        .bindPopup(e.target.get_name())
                        .openPopup();
                }).addTo(map);
            }

            var dir = "cycling-hills/"
            plotGPX(norwayMap, dir + "Gressbanen-Tryvann.gpx", 59.95177, 10.67428);
            plotGPX(norwayMap, dir + "Kvål-Vassfjellet.gpx", 0, 0);
            plotGPX(norwayMap, dir + "Vengedalen.gpx", 0, 0);
            plotGPX(norwayMap, dir + "Ljabrubakken.gpx", 0, 0);
            plotGPX(norwayMap, dir + "Skeidbanen-Grefsenkollen.gpx", 0, 0);
            plotGPX(norwayMap, dir + "Stavne-LilleGråkallen.gpx", 0, 0);
            plotGPX(norwayMap, dir + "Trollstigen.gpx", 0, 0);
        </script>
            
        <footer>
          Copyright 2019 by Erik Johannes Husom. All rights reserved.
        </footer>
    </body>

</html>


